{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}CineMind AI{% endblock %}</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <header>
    <div class="container">
      <nav>
        <a href="{% url 'home' %}" class="logo">
          <i class="fas fa-brain"></i> CineMind AI
        </a>
        <div class="auth-nav">
          {% if user.is_authenticated %}
          <span style="margin-right: 1rem;"><i class="far fa-user"></i> {{ user.username }}</span>
          <form action="{% url 'accounts:logout' %}" method="post" style="display:inline;">
            {% csrf_token %}
            <button type="submit" class="btn"
              style="border: 1px solid var(--secondary-color); color: var(--secondary-color); padding: 0.4rem 0.8rem; background: transparent;">Logout</button>
          </form>
          {% else %}
          <a href="{% url 'accounts:login' %}" style="margin-right: 1rem;">Log In</a>
          <a href="{% url 'accounts:register' %}" class="btn btn-primary"
            style="padding: 0.4rem 1rem; font-size: 0.9rem;">Sign Up</a>
          {% endif %}
        </div>
      </nav>
    </div>
  </header>

  <main class="container">
    {% if messages %}
    <div class="messages" style="margin-top: 1rem;">
      {% for message in messages %}
      <div
        style="padding: 1rem; border-radius: 8px; margin-bottom: 0.5rem; background: rgba(99, 102, 241, 0.2); border: 1px solid var(--primary-color);">
        {{ message }}
      </div>
      {% endfor %}
    </div>
    {% endif %}

    {% block content %}{% endblock %}
  </main>

  <footer
    style="margin-top: 4rem; padding: 2rem 0; text-align: center; color: var(--text-muted); border-top: 1px solid var(--glass-border);">
    <p>Built with Django & AI &copy; {% now "Y" %}</p>
  </footer>
</body>

</html>